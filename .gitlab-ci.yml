image: awhalen/docker-php-composer-node

cache:
  key: "SystemManager-Core"
  paths:
    - "node_modules/"


stages:
  - build
  - test

build_core:
  stage: build
  script:
    - cd core/
    - yarn && yarn build
  artifacts:
    paths:
      - './core/build'
      - './worker/build'

test_core:
  stage: test
  script:
    - echo "No tests are defined yet"


build_worker:
  stage: build
  script:
    - cd worker/
    - yarn && yarn build
  artifacts:
    paths:
      - './core/build'
      - './worker/build'

test_worker:
  stage: test
  script:
    - echo "No tests are defined yet"

